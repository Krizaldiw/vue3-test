{"remainingRequest":"C:\\PrivyID_QA\\C3\\shopping-cart-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\PrivyID_QA\\C3\\shopping-cart-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\PrivyID_QA\\C3\\shopping-cart-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\PrivyID_QA\\C3\\shopping-cart-vue\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\PrivyID_QA\\C3\\shopping-cart-vue\\src\\components\\Login.vue","mtime":1667359732378},{"path":"C:\\PrivyID_QA\\C3\\shopping-cart-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666759571021},{"path":"C:\\PrivyID_QA\\C3\\shopping-cart-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1666759574443},{"path":"C:\\PrivyID_QA\\C3\\shopping-cart-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666759571021},{"path":"C:\\PrivyID_QA\\C3\\shopping-cart-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1666759579022}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovUHJpdnlJRF9RQS9DMy9zaG9wcGluZy1jYXJ0LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAiLi4vc3VwYWJhc2UvaW5pdCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luIiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICAvLyBDcmVhdGUgZGF0YSAvIHZhcnMKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciBlbWFpbCA9IHJlZihudWxsKTsKICAgIHZhciBwYXNzd29yZCA9IHJlZihudWxsKTsKICAgIHZhciBlcnJvck1zZyA9IHJlZihudWxsKTsgLy8gTG9naW4gZnVuY3Rpb24KCiAgICB2YXIgbG9naW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJHN1cGFiYXNlJGF1dGgkLCBlcnJvcjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBzdXBhYmFzZS5hdXRoLnNpZ25Jbih7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbC52YWx1ZSwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJHN1cGFiYXNlJGF1dGgkID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGVycm9yID0gX3lpZWxkJHN1cGFiYXNlJGF1dGgkLmVycm9yOwoKICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IGVycm9yOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJIb21lIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBlcnJvck1zZy52YWx1ZSA9ICJFcnJvcjogIi5jb25jYXQoX2NvbnRleHQudDAubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JNc2cudmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgfSwgNTAwMCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDEwXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICBlbWFpbDogZW1haWwsCiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgZXJyb3JNc2c6IGVycm9yTXNnLAogICAgICBsb2dpbjogbG9naW4KICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,SAAA,GAAA,QAAA,KAAA;AACA,SAAA,QAAA,QAAA,kBAAA;AACA,SAAA,SAAA,QAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,KAFA,mBAEA;AACA;AACA,QAAA,MAAA,GAAA,SAAA,EAAA;AACA,QAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CALA,CAOA;;AACA,QAAA,KAAA;AAAA,yEAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA,kBAAA,KAAA,EAAA,KAAA,CAAA,KADA;AAEA,kBAAA,QAAA,EAAA,QAAA,CAAA;AAFA,iBAAA,CAFA;;AAAA;AAAA;AAEA,gBAAA,KAFA,yBAEA,KAFA;;AAAA,qBAMA,KANA;AAAA;AAAA;AAAA;;AAAA,sBAMA,KANA;;AAAA;AAOA,gBAAA,MAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AAPA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,QAAA,CAAA,KAAA,oBAAA,YAAA,OAAA;AACA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,QAAA,CAAA,KAAA,GAAA,IAAA;AACA,iBAFA,EAEA,IAFA,CAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA,sBAAA,KAAA;AAAA;AAAA;AAAA,OAAA;;AAgBA,WAAA;AAAA,MAAA,KAAA,EAAA,KAAA;AAAA,MAAA,QAAA,EAAA,QAAA;AAAA,MAAA,QAAA,EAAA,QAAA;AAAA,MAAA,KAAA,EAAA;AAAA,KAAA;AACA;AA3BA,CAAA","sourcesContent":["<template>\r\n    <div class=\"max-w-screen-sm mx-auto px-4 py-10\">\r\n      <!-- Error Handling -->\r\n      <div v-if=\"errorMsg\" class=\"mb-10 p-4 rounded-md bg-light-grey shadow-lg\">\r\n        <p class=\"text-red-500\">{{ errorMsg }}</p>\r\n      </div>\r\n  \r\n      <!-- Login -->\r\n      <form\r\n        @submit.prevent=\"login\"\r\n        class=\"p-8 flex flex-col bg-light-grey rounded-md shadow-lg\"\r\n      >\r\n        <h1 class=\"text-3xl text-at-light-green mb-4\">Login</h1>\r\n  \r\n        <div class=\"flex flex-col mb-2\">\r\n          <label for=\"email\" class=\"mb-1 text-sm text-at-light-green\">Email</label>\r\n          <input\r\n            type=\"text\"\r\n            required\r\n            class=\"p-2 text-gray-500 focus:outline-none\"\r\n            id=\"email\"\r\n            v-model=\"email\"\r\n          />\r\n        </div>\r\n  \r\n        <div class=\"flex flex-col mb-2\">\r\n          <label for=\"password\" class=\"mb-1 text-sm text-at-light-green\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            class=\"p-2 text-gray-500 focus:outline-none\"\r\n            id=\"password\"\r\n            v-model=\"password\"\r\n          />\r\n        </div>\r\n  \r\n        <button\r\n          type=\"submit\"\r\n          class=\"mt-6 py-2 px-6 rounded-sm self-start text-sm\r\n        text-white bg-at-light-green duration-200 border-solid\r\n        border-2 border-transparent hover:border-at-light-green hover:bg-white\r\n        hover:text-at-light-green\"\r\n        >\r\n          Login\r\n        </button>\r\n  \r\n        <router-link class=\"text-sm mt-6 text-center\" :to=\"{ name: 'Register' }\">\r\n          Don't have an account? <span class=\"text-at-light-green\">Register</span>\r\n        </router-link>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref } from \"vue\";\r\n  import { supabase } from \"../supabase/init\";\r\n  import { useRouter } from \"vue-router\";\r\n  \r\n  export default {\r\n    name: \"login\",\r\n    setup() {\r\n      // Create data / vars\r\n      const router = useRouter();\r\n      const email = ref(null);\r\n      const password = ref(null);\r\n      const errorMsg = ref(null);\r\n  \r\n      // Login function\r\n      const login = async () => {\r\n        try {\r\n          const { error } = await supabase.auth.signIn({\r\n            email: email.value,\r\n            password: password.value,\r\n          });\r\n          if (error) throw error;\r\n          router.push({ name: \"Home\" });\r\n        } catch (error) {\r\n          errorMsg.value = `Error: ${error.message}`;\r\n          setTimeout(() => {\r\n            errorMsg.value = null;\r\n          }, 5000);\r\n        }\r\n      };\r\n  \r\n      return { email, password, errorMsg, login };\r\n    },\r\n  };\r\n  </script>\r\n  "],"sourceRoot":"src/components"}]}